"use strict";(self["webpackChunkspringboot_vue_shenqn"]=self["webpackChunkspringboot_vue_shenqn"]||[]).push([[620],{2467:function(e,t,r){r.r(t),r.d(t,{default:function(){return $}});var s=r(6252);const n={style:""},u={style:{display:"flex"}};function o(e,t,r,o,i,l){const a=(0,s.up)("Header"),d=(0,s.up)("Aside"),p=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s.Wm)(a,{user:i.user},null,8,["user"]),(0,s._)("div",u,[(0,s.Wm)(d),(0,s.Wm)(p,{style:{flex:"1"},onUserInfo:l.refreshUser},null,8,["onUserInfo"])])])}var i=r(3577);const l={style:{height:"50px","line-height":"50px","border-bottom":"1px solid #ccc",display:"flex"}},a=(0,s._)("div",{style:{flex:"1"}},null,-1),d=["src"],p={style:{position:"absolute",top:"18px"}},m=(0,s.Uk)("个人信息"),w=(0,s.Uk)("修改密码"),c=(0,s.Uk)("退出系统");function h(e,t,r,n,u,o){const h=(0,s.up)("el-dropdown-item"),g=(0,s.up)("el-dropdown-menu"),f=(0,s.up)("el-dropdown");return(0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("div",{style:{width:"100px","padding-left":"30px","font-weight":"bold",color:"dodgerblue"},onClick:t[0]||(t[0]=t=>e.$router.push("/"))},"后台管理 "),a,(0,s._)("div",null,[(0,s._)("img",{src:r.user.avatar,alt:"",style:{width:"30px","border-radius":"50%",position:"relative",top:"10px",right:"5px"}},null,8,d)]),(0,s.Wm)(f,{style:{width:"100px",cursor:"pointer","text-align":"center"}},{dropdown:(0,s.w5)((()=>[(0,s.Wm)(g,null,{default:(0,s.w5)((()=>[(0,s.Wm)(h,{onClick:t[1]||(t[1]=e=>this.$router.push("/person"))},{default:(0,s.w5)((()=>[m])),_:1}),(0,s.Wm)(h,{onClick:t[2]||(t[2]=e=>this.$router.push("/password"))},{default:(0,s.w5)((()=>[w])),_:1}),(0,s.Wm)(h,{onClick:o.logout},{default:(0,s.w5)((()=>[c])),_:1},8,["onClick"])])),_:1})])),default:(0,s.w5)((()=>[(0,s._)("span",p,(0,i.zw)(r.user.username)+"("+(0,i.zw)(r.user.name)+")",1)])),_:1})])}var g=r(5781),f=r(1120),v={name:"Header",props:["user"],data(){return{avater:""}},created(){let e=sessionStorage.getItem("user")||"{}";this.form=JSON.parse(e)},setup(){return{ArrowDown:g.ArrowDown}},methods:{logout(){sessionStorage.removeItem("user"),sessionStorage.removeItem("menus"),sessionStorage.removeItem("currentPathName"),this.$router.push("/login"),(0,f.PV)()}}},_=r(3744);const x=(0,_.Z)(v,[["render",h]]);var k=x;const y={key:0},W={key:1};function S(e,t,r,n,u,o){const l=(0,s.up)("el-icon"),a=(0,s.up)("el-menu-item"),d=(0,s.up)("el-sub-menu"),p=(0,s.up)("el-menu");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(p,{style:{width:"180px","min-height":"calc(100vh - 50px)"},"default-active":e.$route.path,"default-openeds":[1],"unique-opened":"true",router:"",class:"el-menu-vertical-demo"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(u.menus,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id},[e.path?((0,s.wg)(),(0,s.iD)("div",y,[(0,s.Wm)(a,{index:e.path},{default:(0,s.w5)((()=>[(0,s.Wm)(l,null,{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.icon)))])),_:2},1024),(0,s.Uk)(" "+(0,i.zw)(e.name),1)])),_:2},1032,["index"])])):((0,s.wg)(),(0,s.iD)("div",W,[(0,s.Wm)(d,{index:e.id},{title:(0,s.w5)((()=>[(0,s.Wm)(l,null,{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.icon)))])),_:2},1024),(0,s._)("span",null,(0,i.zw)(e.name),1)])),default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.children,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id},[(0,s.Wm)(a,{index:e.path},{default:(0,s.w5)((()=>[(0,s.Wm)(l,null,{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.icon)))])),_:2},1024),(0,s._)("span",null,(0,i.zw)(e.name),1)])),_:2},1032,["index"])])))),128))])),_:2},1032,["index"])]))])))),128))])),_:1},8,["default-active"])])}var b=r(4471),D={name:"Aside",data(){return{path:this.$route.path,user:{},menus:sessionStorage.getItem("menus")?JSON.parse(sessionStorage.getItem("menus")):[]}},created(){let e=sessionStorage.getItem("user")||"{}";this.user=JSON.parse(e),b.Z.get("/user/"+this.user.id).then((e=>{"0"===e.code&&(this.user=e.data)}))}};const I=(0,_.Z)(D,[["render",S]]);var U=I,C={name:"Layout",components:{Header:k,Aside:U},data(){return{user:{}}},created(){this.refreshUser()},methods:{refreshUser(){let e=sessionStorage.getItem("user");if(!e)return;let t=JSON.parse(e).id;b.Z.get("/user/"+t).then((e=>{this.user=e.data}))}}};const L=(0,_.Z)(C,[["render",o]]);var $=L}}]);
//# sourceMappingURL=620.3d7ed3a2.js.map