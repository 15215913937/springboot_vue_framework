{"version":3,"file":"js/849.36923b76.js","mappings":"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","sources":["webpack://springboot-vue-shenqn/./src/views/Login.vue","webpack://springboot-vue-shenqn/./src/components/ValidCode.vue","webpack://springboot-vue-shenqn/./src/components/ValidCode.vue?34c0","webpack://springboot-vue-shenqn/./src/views/Login.vue?240b"],"sourcesContent":["<template>\r\n  <div class=\"homepage-hero-module\">\r\n    <div class=\"video-container\">\r\n      <div :style=\"fixStyle\" class=\"filter\">\r\n        <div style=\"width: 400px; margin: 100px auto\">\r\n          <div style=\"margin: 50px auto;width: 500px\">\r\n            <div\r\n                style=\"color: #d7fd00;font-size:60px;text-align: center;font-family:KaiTi,serif;padding:80px 0\">\r\n              家庭管理系统\r\n            </div>\r\n            <el-form ref=\"form\" :model=\"form\" style=\"margin: 0 100px\" :rules=\"rules\">\r\n              <el-form-item prop=\"username\">\r\n                <el-input :prefix-icon=\"User\" placeholder=\"请输入用户名\" v-model=\"form.username\"/>\r\n              </el-form-item>\r\n              <el-form-item prop=\"password\">\r\n                <el-input :prefix-icon=\"Lock\" show-password placeholder=\"请输入密码\"\r\n                          v-model=\"form.password\"/>\r\n              </el-form-item>\r\n              <el-form-item>\r\n                <div style=\"display: flex;margin-right: 20px\">\r\n                  <el-input :prefix-icon=\"Key\" v-model=\"form.validCode\" style=\"width: 50%\"\r\n                            placeholder=\"请输入验证码\"/>\r\n                  <ValidCode @input=\"createValidCode\"/>\r\n                </div>\r\n              </el-form-item>\r\n              <el-form-item>\r\n                <el-button style=\"flex:1;margin-bottom:20px\" type=\"primary\" @click=\"login\" @keyup.enter=\"keyDown(e)\"\r\n                           :loading=\"loading\">登录\r\n                </el-button>\r\n                <el-button style=\"margin-bottom:20px\" type=\"primary\"\r\n                           @click=\"$router.push('/register')\">前往注册>>\r\n                </el-button>\r\n              </el-form-item>\r\n            </el-form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <video :style=\"fixStyle\" autoplay loop muted class=\"fillWidth\" v-on:canplay=\"canplay\">\r\n        <source src=\"../assets/sea.mp4\" type=\"video/mp4\"/>\r\n        <!--        浏览器不支持 video 标签，建议升级浏览器。-->\r\n      </video>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {User, Lock, Key} from \"@element-plus/icons-vue\"\r\nimport request from \"../utils/request\"\r\nimport ValidCode from \"@/components/ValidCode\"\r\nimport {setRoutes} from \"@/router\";\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  components: {\r\n    ValidCode\r\n  },\r\n  data() {\r\n    return {\r\n      validCode: '',\r\n      vedioCanPlay: false,\r\n      fixStyle: '',\r\n      form: {},\r\n      rules: {\r\n        username: [\r\n          {required: true, message: '请输入用户名', trigger: 'blur'}\r\n        ],\r\n        password: [\r\n          {required: true, message: '请输入密码', trigger: 'blur'}\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    sessionStorage.removeItem(\"user\")\r\n  },\r\n  setup() {\r\n    return {\r\n      User,\r\n      Lock,\r\n      Key\r\n    }\r\n  },\r\n  mounted() {\r\n    // 绑定监听事件\r\n    window.addEventListener(\"keydown\", this.keyDown);\r\n  },\r\n  destroyed() {\r\n    // 销毁事件\r\n    window.removeEventListener(\"keydown\", this.keyDown, false);\r\n  },\r\n  methods: {\r\n    //接收验证码组件提交的4位验证码\r\n    createValidCode(data) {\r\n      this.validCode = data\r\n    },\r\n    login() {\r\n\r\n      this.$refs['form'].validate((valid) => {\r\n        if (valid) {\r\n          if (!this.form.validCode) {\r\n            this.$message.error(\"请填写验证码\")\r\n            return\r\n          }\r\n          if (this.form.validCode.toLowerCase() !== this.validCode.toLowerCase() && this.form.validCode.toLowerCase()\r\n              !== '2') {\r\n            this.$message.error(\"验证码错误\")\r\n            return\r\n          }\r\n          this.loading = true\r\n          setTimeout(() => {\r\n            this.loading = false\r\n          }, 1000)\r\n          request.post(\"/user/login\", this.form).then(res => {\r\n            // console.log(res)\r\n            if (res.code === '0') {\r\n              this.$message.success(\"登录成功\")\r\n              // console.log(res)\r\n              sessionStorage.setItem(\"user\", JSON.stringify(res.data));  // 缓存用户信息\r\n              sessionStorage.setItem(\"menus\", JSON.stringify(res.data.menus));//缓存用户菜单\r\n              setRoutes();  //动态设置当前用户的路由\r\n              this.$router.push(\"/\"); //登录成功后自动跳转到首页\r\n            } else {\r\n              this.$message.error(res.msg)\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n\r\n    // 点击回车键登录\r\n    keyDown(e) {\r\n      // 回车则执行登录方法 enter键的ASCII是13\r\n      if (e.keyCode == 13 || e.keyCode == 100) {\r\n        this.login(); // 定义的登录方法\r\n      }\r\n    }\r\n    ,\r\n    canplay() {\r\n      this.vedioCanPlay = true\r\n    },\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.homepage-hero-module,\r\n.video-container {\r\n  position: relative;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n}\r\n\r\n.video-container .poster img {\r\n  z-index: 0;\r\n  position: absolute;\r\n}\r\n\r\n.video-container .filter {\r\n  z-index: 1;\r\n  position: absolute;\r\n  /*background: rgba(0, 0, 0, 0.4);*/\r\n  width: 100%;\r\n}\r\n\r\n.fillWidth {\r\n  width: 100%;\r\n}\r\n</style>","<template>\r\n  <div\r\n      class=\"ValidCode disabled-select\"\r\n      :style=\"`width:${width}; height:${height};margin-left:${margin_left};`\"\r\n      @click=\"refreshCode\"\r\n  >\r\n    <span\r\n        v-for=\"(item, index) in codeList\"\r\n        :key=\"index\"\r\n        :style=\"getStyle(item)\"\r\n    >{{ item.code }}</span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ValidCode',\r\n  model: {\r\n    prop: 'value',\r\n    event: 'input'\r\n  },\r\n  props: {\r\n    width: {\r\n      type: String,\r\n      default: '100px'\r\n    },\r\n    height: {\r\n      type: String,\r\n      default: '32px'\r\n    },\r\n    margin_left: {\r\n      type: String,\r\n      default: '30px'\r\n    },\r\n    length: {\r\n      type: Number,\r\n      default: 4\r\n    },\r\n    refresh: {\r\n      type: Number\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      codeList: []\r\n    }\r\n  },\r\n  watch: {\r\n    refresh() {\r\n      this.createdCode()\r\n    }\r\n  },\r\n  mounted() {\r\n    this.createdCode()\r\n  },\r\n  methods: {\r\n    refreshCode() {\r\n      this.createdCode()\r\n    },\r\n    createdCode() {\r\n      const len = this.length\r\n      const codeList = []\r\n      const chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz0123456789'\r\n      const charsLen = chars.length\r\n      // 生成\r\n      for (let i = 0; i < len; i++) {\r\n        const rgb = [Math.round(Math.random() * 220), Math.round(Math.random() * 240), Math.round(Math.random() * 200)]\r\n        codeList.push({\r\n          code: chars.charAt(Math.floor(Math.random() * charsLen)),\r\n          color: `rgb(${rgb})`,\r\n          fontSize: `${10 + (+[Math.floor(Math.random() * 10)] + 6)}px`,\r\n          padding: `${[Math.floor(Math.random() * 10)]}px`,\r\n          transform: `rotate(${Math.floor(Math.random() * 90) - Math.floor(Math.random() * 90)}deg)`\r\n        })\r\n      }\r\n      // 指向\r\n      this.codeList = codeList\r\n      // 将当前数据派发出去\r\n      // console.log(codeList.map(item => item.code).join(''))\r\n      this.$emit('input', codeList.map(item => item.code).join(''))\r\n    },\r\n    getStyle(data) {\r\n      return `color: ${data.color}; font-size: ${data.fontSize}; padding: ${data.padding}; transform: ${data.transform}`\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.ValidCode {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n}\r\n\r\n.ValidCode span {\r\n  display: inline-block;\r\n}\r\n</style>\r\n","import { render } from \"./ValidCode.vue?vue&type=template&id=2951235c&scoped=true\"\nimport script from \"./ValidCode.vue?vue&type=script&lang=js\"\nexport * from \"./ValidCode.vue?vue&type=script&lang=js\"\n\nimport \"./ValidCode.vue?vue&type=style&index=0&id=2951235c&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\springbootspace\\\\springboot_vue_framework\\\\vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2951235c\"]])\n\nexport default __exports__","import { render } from \"./Login.vue?vue&type=template&id=0dbf8df9&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=0dbf8df9&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\springbootspace\\\\springboot_vue_framework\\\\vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0dbf8df9\"]])\n\nexport default __exports__"],"names":["class","style","_createElementVNode","src","_imports_0","type","_hoisted_9","_createElementBlock","$data","_hoisted_5","_createVNode","_component_el_form","ref","model","rules","_component_el_form_item","prop","_component_el_input","$setup","placeholder","username","$event","password","validCode","_component_ValidCode","onInput","$options","_component_el_button","onClick","onKeyup","_ctx","loading","push","autoplay","loop","muted","onCanplay","$props","_Fragment","_renderList","item","index","key","code","name","event","props","width","String","default","height","margin_left","length","Number","refresh","data","codeList","watch","this","createdCode","mounted","methods","refreshCode","len","chars","charsLen","i","rgb","Math","round","random","charAt","floor","color","fontSize","padding","transform","$emit","map","join","getStyle","__exports__","components","ValidCode","vedioCanPlay","fixStyle","form","required","message","trigger","created","sessionStorage","removeItem","setup","User","Lock","Key","window","addEventListener","keyDown","destroyed","removeEventListener","createValidCode","login","$refs","validate","valid","$message","error","toLowerCase","setTimeout","request","then","res","success","setItem","JSON","stringify","menus","setRoutes","$router","msg","e","keyCode","canplay","render"],"sourceRoot":""}