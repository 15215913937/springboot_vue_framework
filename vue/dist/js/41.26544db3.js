"use strict";(self["webpackChunkspringboot_vue_demo"]=self["webpackChunkspringboot_vue_demo"]||[]).push([[41],{7041:function(e,a,l){l.r(a),l.d(a,{default:function(){return _}});var t=l(6252);const o={style:{padding:"10px"}},i={style:{margin:"10px 0"}},d=(0,t.Uk)("新增"),s={style:{margin:"10px 0"}},r=(0,t.Uk)("查询"),m=(0,t.Uk)("编辑"),n=(0,t.Uk)("删除 "),u={style:{margin:"10px 0"}},p=(0,t.Uk)("男"),g=(0,t.Uk)("女"),h={class:"dialog-footer"},c=(0,t.Uk)("取消"),f=(0,t.Uk)("提交");function b(e,a,l,b,w,V){const W=(0,t.up)("el-button"),k=(0,t.up)("el-input"),_=(0,t.up)("el-table-column"),C=(0,t.up)("el-popconfirm"),y=(0,t.up)("el-pagination"),U=(0,t.up)("el-table"),x=(0,t.up)("el-form-item"),z=(0,t.up)("el-radio"),v=(0,t.up)("el-form"),S=(0,t.up)("el-dialog");return(0,t.wg)(),(0,t.iD)("div",o,[(0,t._)("div",i,[(0,t.Wm)(W,{type:"primary",onClick:V.add},{default:(0,t.w5)((()=>[d])),_:1},8,["onClick"])]),(0,t._)("div",s,[(0,t.Wm)(k,{modelValue:w.search,"onUpdate:modelValue":a[0]||(a[0]=e=>w.search=e),placeholder:"请输入关键字",style:{width:"20%"},clearable:""},null,8,["modelValue"]),(0,t.Wm)(W,{type:"primary",style:{"margin-left":"20px"},onClick:V.load},{default:(0,t.w5)((()=>[r])),_:1},8,["onClick"])]),(0,t.Wm)(U,{data:w.tableData,border:"",stripe:"",style:{width:"100%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(_,{prop:"id",label:"ID",sortable:""}),(0,t.Wm)(_,{prop:"username",label:"用户名"}),(0,t.Wm)(_,{prop:"nickName",label:"昵称"}),(0,t.Wm)(_,{prop:"age",label:"年龄"}),(0,t.Wm)(_,{prop:"sex",label:"性别"}),(0,t.Wm)(_,{prop:"address",label:"地址"}),(0,t.Wm)(_,{fixed:"right",label:"操作",width:"150px"},{default:(0,t.w5)((e=>[(0,t.Wm)(W,{link:"",type:"primary",onClick:a=>V.handleEdit(e.row)},{default:(0,t.w5)((()=>[m])),_:2},1032,["onClick"]),(0,t.Wm)(C,{title:"你确定要删除吗?",onConfirm:a=>V.handleDelete(e.row)},{reference:(0,t.w5)((()=>[(0,t.Wm)(W,{type:"danger"},{default:(0,t.w5)((()=>[n])),_:1})])),_:2},1032,["onConfirm"])])),_:1}),(0,t.Wm)(y,{small:"",layout:"prev, pager, next",total:50})])),_:1},8,["data"]),(0,t._)("div",u,[(0,t.Wm)(y,{currentPage:w.currentPage,"onUpdate:currentPage":a[1]||(a[1]=e=>w.currentPage=e),"page-size":w.pageSize,"onUpdate:page-size":a[2]||(a[2]=e=>w.pageSize=e),"page-sizes":[10,20,50],small:e.small,disabled:e.disabled,background:e.background,layout:"total, sizes, prev, pager, next, jumper",total:w.total,onSizeChange:V.handleSizeChange,onCurrentChange:V.handleCurrentChange},null,8,["currentPage","page-size","small","disabled","background","total","onSizeChange","onCurrentChange"]),(0,t.Wm)(S,{modelValue:w.dialogVisible,"onUpdate:modelValue":a[10]||(a[10]=e=>w.dialogVisible=e),title:"新增",width:"30%"},{footer:(0,t.w5)((()=>[(0,t._)("span",h,[(0,t.Wm)(W,{onClick:a[9]||(a[9]=e=>w.dialogVisible=!1)},{default:(0,t.w5)((()=>[c])),_:1}),(0,t.Wm)(W,{type:"primary",onClick:V.save},{default:(0,t.w5)((()=>[f])),_:1},8,["onClick"])])])),default:(0,t.w5)((()=>[(0,t.Wm)(v,{model:"form","label-width":"120px"},{default:(0,t.w5)((()=>[(0,t.Wm)(x,{label:"用户名"},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{modelValue:w.form.username,"onUpdate:modelValue":a[3]||(a[3]=e=>w.form.username=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,t.Wm)(x,{label:"昵称"},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{modelValue:w.form.nickName,"onUpdate:modelValue":a[4]||(a[4]=e=>w.form.nickName=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,t.Wm)(x,{label:"年龄"},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{modelValue:w.form.age,"onUpdate:modelValue":a[5]||(a[5]=e=>w.form.age=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,t.Wm)(x,{label:"性别"},{default:(0,t.w5)((()=>[(0,t.Wm)(z,{modelValue:w.form.sex,"onUpdate:modelValue":a[6]||(a[6]=e=>w.form.sex=e),label:"男",size:"large"},{default:(0,t.w5)((()=>[p])),_:1},8,["modelValue"]),(0,t.Wm)(z,{modelValue:w.form.sex,"onUpdate:modelValue":a[7]||(a[7]=e=>w.form.sex=e),label:"女",size:"large"},{default:(0,t.w5)((()=>[g])),_:1},8,["modelValue"])])),_:1}),(0,t.Wm)(x,{label:"地址"},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{type:"textarea",modelValue:w.form.address,"onUpdate:modelValue":a[8]||(a[8]=e=>w.form.address=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])])}var w=l(4471),V={name:"HomeView",components:{},data(){return{form:{},dialogVisible:!1,search:"",currentPage:1,pageSize:10,total:10,tableData:[]}},created(){this.load()},methods:{load(){w.Z.get("/api/user",{params:{pageNum:this.currentPage,pageSize:this.pageSize,search:this.search}}).then((e=>{console.log(e),this.tableData=e.data.records,this.total=e.data.total}))},add(){this.dialogVisible=!0,this.form={}},save(){this.form.id?w.Z.put("/api/user",this.form).then((e=>{console.log(e),"0"===e.code?this.$message.success("修改成功"):this.$message.error(e.msg),this.load(),this.dialogVisible=!1})):w.Z.post("/api/user",this.form).then((e=>{console.log(e),"0"===e.code?this.$message.success("新增成功"):this.$message.error(e.msg),this.load(),this.dialogVisible=!1}))},handleEdit(e){this.form=JSON.parse(JSON.stringify(e)),this.dialogVisible=!0},handleDelete(e){this.id=e.id,console.log(this.id),w.Z["delete"]("/api/user/"+this.id).then((e=>{"0"===e.code?this.$message.success("删除成功"):this.$message.error(e.msg),this.load()}))},handleSizeChange(){this.load()},handleCurrentChange(){this.load()}}},W=l(3744);const k=(0,W.Z)(V,[["render",b]]);var _=k}}]);
//# sourceMappingURL=41.26544db3.js.map