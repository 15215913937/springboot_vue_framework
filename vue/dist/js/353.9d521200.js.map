{"version":3,"file":"js/353.9d521200.js","mappings":"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","sources":["webpack://springboot-vue-shenqn/./src/views/Role.vue","webpack://springboot-vue-shenqn/./src/views/Role.vue?abc1"],"sourcesContent":["<template>\r\n    <div style=\"padding: 10px\">\r\n        <!--    功能区-->\r\n        <div style=\"margin: 10px 0\">\r\n            <el-button type=\"primary\" @click=\"add\">\r\n                <el-icon>\r\n                    <CirclePlus/>\r\n                </el-icon>\r\n                &nbsp新增\r\n            </el-button>\r\n        </div>\r\n        <!--    搜索区-->\r\n        <div style=\"margin: 10px 0;display: block;clear: both\">\r\n            <el-input v-model=\"role\" placeholder=\"请输入角色名称\" style=\"width: 20%\" class=\"mr-10\" :prefix-icon=\"Search\"\r\n                      clearable/>\r\n            <el-button class=\"mb-10\" type=\"primary\" @click=\"load\">查询</el-button>\r\n            <el-button class=\"mb-10\" type=\"primary\" @click=\"reset\">重置</el-button>\r\n        </div>\r\n        <!--    列表区-->\r\n        <!--        stripe:斑马纹-->\r\n        <el-table\r\n                v-loading=\"loading\"\r\n                :data=\"tableData\"\r\n                border\r\n                stripe\r\n                style=\"width: 100%\"\r\n                @selection-change=\"handleSelectionChange\">\r\n            <el-table-column type=\"selection\" width=\"55\"/>\r\n            <!--            sortable:排序操作-->\r\n            <el-table-column prop=\"id\" label=\"ID\" sortable=\"\"/>\r\n            <el-table-column prop=\"role\" label=\"角色\"/>\r\n            <el-table-column prop=\"flag\" label=\"唯一标识\"/>\r\n            <el-table-column prop=\"description\" label=\"描述\"/>\r\n            <el-table-column fixed=\"right\" label=\"操作\" width=\"300px\">\r\n                <template #default=\"scope\">\r\n                    <el-button plain type=\"success\" @click=\"selectMenu(scope.row.id)\">\r\n                        <el-icon>\r\n                            <Menu/>\r\n                        </el-icon>\r\n                        分配菜单\r\n                    </el-button>\r\n                    <el-button plain type=\"primary\" @click=\"handleEdit(scope.row)\">编辑</el-button>\r\n                    <el-popconfirm title=\"你确定要删除吗?\" @confirm=\"handleDelete(scope.row)\">\r\n                        <template #reference>\r\n                            <el-button type=\"danger\">\r\n                                <el-icon>\r\n                                    <Delete/>\r\n                                </el-icon>\r\n                            </el-button>\r\n                        </template>\r\n                    </el-popconfirm>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <div style=\"margin: 10px 0\">\r\n            <el-dialog v-model=\"menuDialogVis\" title=\"菜单分配\" width=\"30%\">\r\n                <el-tree\r\n                        :props=\"props\"\r\n                        :data=\"menuData\"\r\n                        node-key=\"id\"\r\n                        ref=\"tree\"\r\n                        :default-expanded-keys=\"expends\"\r\n                        :default-checked-keys=\"checks\"\r\n                        show-checkbox\r\n                />\r\n                <template #footer>\r\n                    <span class=\"dialog-footer\">\r\n                        <el-button @click=\"menuDialogVis = false\">取消</el-button>\r\n                        <el-button type=\"primary\" @click=\"saveRoleMenu\" :loading=\"loading\">提交</el-button>\r\n                    </span>\r\n                </template>\r\n            </el-dialog>\r\n            <el-dialog v-model=\"dialogVisible\" title=\"角色信息\" width=\"30%\">\r\n                <el-form model=\"form\" label-width=\"120px\">\r\n                    <el-form-item label=\"角色\">\r\n                        <el-input v-model=\"form.role\" style=\"width: 80%\"/>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"唯一标识\">\r\n                        <el-input v-model=\"form.flag\" style=\"width: 80%\"/>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"描述\">\r\n                        <el-input type=\"textarea\" v-model=\"form.description\" style=\"width: 80%\"/>\r\n                    </el-form-item>\r\n                </el-form>\r\n                <template #footer>\r\n                    <span class=\"dialog-footer\">\r\n                        <el-button @click=\"dialogVisible = false\">取消</el-button>\r\n                        <el-button type=\"primary\" @click=\"save\" :loading=\"loading\">提交</el-button>\r\n                    </span>\r\n                </template>\r\n            </el-dialog>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    import request from \"../utils/request\";\r\n    import {Search, Delete} from \"@element-plus/icons-vue\";\r\n\r\n    export default {\r\n        name: 'Role',\r\n        components: {},\r\n        data() {\r\n            return {\r\n                loading: true,\r\n                form: {},\r\n                menuDialogVis: false,\r\n                dialogVisible: false,\r\n                role: '',\r\n                tableData: [],\r\n                menuData: [],\r\n                props: {\r\n                    label: 'name',\r\n                },\r\n                roleId: 0,\r\n                expends: [],\r\n                checks: []\r\n            }\r\n        },\r\n        created() {\r\n            this.load();\r\n        },\r\n        setup() {\r\n            return {\r\n                Search,\r\n                Delete\r\n            }\r\n        },\r\n        methods: {\r\n            load() {\r\n                this.loading = true;\r\n                request.get(\"/role/page\").then(res => {\r\n                    // console.log(res);\r\n                    this.loading = false;\r\n                    this.tableData = res.data.records;\r\n                });\r\n            },\r\n            reset() {\r\n                this.role = '';\r\n                this.load();\r\n            },\r\n            add() {\r\n                this.dialogVisible = true;\r\n                // 清空表单域，点击取消后，下次打开就是清空内容了\r\n                this.form = {}\r\n            },\r\n            save() {\r\n                if (this.form.id) {//若果id存在，更新\r\n                    //提交加载效果设置，放置点击太快重复提交\r\n                    this.loading = true\r\n                    setTimeout(() => {\r\n                        this.loading = false\r\n                    }, 1000)\r\n                    request.post(\"/role\", this.form).then(res => {\r\n                        // console.log(res);\r\n                        if (res.code === '0') {\r\n                            this.$message.success(\"修改成功\")\r\n                        } else {\r\n                            this.$message.error(res.msg)\r\n                        }\r\n                        this.load();//刷新表格数据\r\n                        this.dialogVisible = false\r\n                    });\r\n                } else {//如果id不存在，新增\r\n                    request.post(\"/role\", this.form).then(res => {\r\n                        // console.log(res);\r\n                        if (res.code === '0') {\r\n                            this.$message.success(\"新增成功\")\r\n                        } else {\r\n                            this.$message.error(res.msg)\r\n                        }\r\n                        this.load();//刷新表格数据\r\n                        this.dialogVisible = false\r\n                    });\r\n                }\r\n            },\r\n            saveRoleMenu() {\r\n                this.loading = true\r\n                setTimeout(() => {\r\n                    this.loading = false\r\n                }, 1000)\r\n                // console.log(this.$refs.tree.getCheckedKeys());\r\n                request.post(\"/role/roleMenu/\" + this.roleId, this.$refs.tree.getCheckedKeys()).then(res => {\r\n                    // console.log(res)\r\n                    if (res.code === '0') {\r\n                        this.$message.success(\"分配成功\")\r\n                        this.menuDialogVis = false\r\n                    } else {\r\n                        this.$message.error(res.msg)\r\n                    }\r\n                })\r\n            },\r\n            handleEdit(row) {\r\n                this.form = JSON.parse(JSON.stringify(row));\r\n                this.dialogVisible = true\r\n            },\r\n            handleDelete(row) {\r\n                this.id = row.id\r\n                // console.log(this.id);\r\n                request.delete(\"/role/\" + this.id).then(res => {\r\n                    if (res.code === '0') {\r\n                        this.$message.success(\"删除成功\")\r\n                    } else {\r\n                        this.$message.error(res.msg)\r\n                    }\r\n                    this.load();//刷新表格数据\r\n                })\r\n            },\r\n            selectMenu(roleId) {\r\n                this.roleId = roleId;\r\n                request.get(\"/role/roleMenu/\" + this.roleId).then(res => {\r\n                    this.checks = res.data;\r\n                })\r\n                this.menuDialogVis = true;  //写在下列代码前面，先渲染弹窗页面元素\r\n                //请求菜单数据\r\n                request.get(\"/menu\").then(res => {\r\n                    // console.log(res);\r\n                    this.loading = false;\r\n                    this.menuData = res.data;\r\n                    // 把后台返回的菜单数据处理成 id数组\r\n                    this.expends = this.menuData.map(v => v.id)\r\n                })\r\n\r\n            }\r\n        }\r\n    }\r\n</script>\r\n","import { render } from \"./Role.vue?vue&type=template&id=1018cdb2\"\nimport script from \"./Role.vue?vue&type=script&lang=js\"\nexport * from \"./Role.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\springbootspace\\\\springboot_vue_framework\\\\vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["style","class","_createElementBlock","_createElementVNode","_createVNode","_component_el_button","type","onClick","$options","_component_el_icon","_component_CirclePlus","_component_el_input","$data","$event","placeholder","$setup","clearable","_createBlock","_component_el_table","data","border","stripe","onSelectionChange","_ctx","_component_el_table_column","width","prop","label","sortable","fixed","default","scope","plain","row","id","_component_Menu","_component_el_popconfirm","title","onConfirm","reference","_component_Delete","_component_el_dialog","footer","loading","_component_el_tree","props","ref","_component_el_form","model","_component_el_form_item","role","flag","description","name","components","form","menuDialogVis","dialogVisible","tableData","menuData","roleId","expends","checks","created","this","load","setup","Search","Delete","methods","request","then","res","records","reset","add","save","setTimeout","code","$message","success","error","msg","saveRoleMenu","$refs","tree","getCheckedKeys","handleEdit","JSON","parse","stringify","handleDelete","selectMenu","map","v","__exports__","render"],"sourceRoot":""}